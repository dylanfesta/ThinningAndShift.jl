var documenterSearchIndex = {"docs":
[{"location":"positive_correlations/","page":"Simple correlated firing","title":"Simple correlated firing","text":"EditURL = \"https://github.com/dylanfesta/HawkesSimulator.jl/blob/master/examples/positive_correlations.jl\"","category":"page"},{"location":"positive_correlations/","page":"Simple correlated firing","title":"Simple correlated firing","text":"using ThinningAndShift ; global const T = ThinningAndShift\nusing Makie, CairoMakie\nusing SpikeTrainUtilities ; global const U = SpikeTrainUtilities","category":"page"},{"location":"positive_correlations/#Simple-correlated-firing","page":"Simple correlated firing","title":"Simple correlated firing","text":"","category":"section"},{"location":"positive_correlations/","page":"Simple correlated firing","title":"Simple correlated firing","text":"Neuron A and B fire at 10 Hz each, half of the time they fire together. in perfect sync","category":"page"},{"location":"positive_correlations/","page":"Simple correlated firing","title":"Simple correlated firing","text":"markings = [ [1,],[2,],[1,2]]\nmarkings_probs = fill(0.33333,3)\nmarkings_probs ./= sum(markings_probs)\n\nparent_rate  = 15.0\njitters_d = fill(T.NoJitter(),3)\n\ngtas_test = T.GTAS(parent_rate,markings,markings_probs,jitters_d)\n\nt_end = 500.0\n(train1,train2),_ = T.make_samples_with_parent(gtas_test,t_end)\n\nr1_num = length(train1)/t_end\nr2_num = length(train2)/t_end\n\n\"\"\"\nRate should be around 10.0\nrate 1 : $(r1_num)\nrate 2 : $(r2_num)\"\"\"","category":"page"},{"location":"positive_correlations/","page":"Simple correlated firing","title":"Simple correlated firing","text":"Now show the raster","category":"page"},{"location":"positive_correlations/","page":"Simple correlated firing","title":"Simple correlated firing","text":"raster_img = U.draw_spike_raster([train1,train2],1E-2,10.0;\n  spike_size=50,spike_separator=10)","category":"page"},{"location":"positive_correlations/","page":"Simple correlated firing","title":"Simple correlated firing","text":"and the plot!","category":"page"},{"location":"positive_correlations/","page":"Simple correlated firing","title":"Simple correlated firing","text":"raster_plot = U.plot_spike_raster([train1,train2],1E-2,10.0;\n  spike_size=50,spike_separator=10)","category":"page"},{"location":"positive_correlations/","page":"Simple correlated firing","title":"Simple correlated firing","text":"","category":"page"},{"location":"positive_correlations/","page":"Simple correlated firing","title":"Simple correlated firing","text":"This page was generated using Literate.jl.","category":"page"},{"location":"more_positive_corr/","page":"Simple correlated firing, but for more neurons","title":"Simple correlated firing, but for more neurons","text":"EditURL = \"../../examples/more_positive_corr.jl\"","category":"page"},{"location":"more_positive_corr/","page":"Simple correlated firing, but for more neurons","title":"Simple correlated firing, but for more neurons","text":"using ThinningAndShift ; global const T = ThinningAndShift\nusing Makie, CairoMakie\nusing SpikeTrainUtilities ; global const U = SpikeTrainUtilities\nusing Distributions\nusing Random ; Random.seed!(0)","category":"page"},{"location":"more_positive_corr/#Simple-correlated-firing,-but-for-more-neurons","page":"Simple correlated firing, but for more neurons","title":"Simple correlated firing, but for more neurons","text":"","category":"section"},{"location":"more_positive_corr/","page":"Simple correlated firing, but for more neurons","title":"Simple correlated firing, but for more neurons","text":"Here I consder k neurons. A group of kas of them fires together p% of the time, with specific delays between one another. The other half is just uncorrelated. All neurons have the same rate.","category":"page"},{"location":"more_positive_corr/","page":"Simple correlated firing, but for more neurons","title":"Simple correlated firing, but for more neurons","text":"const k = 20\nconst kas = 8\nconst pkas = 0.5\nconst therate = 30.0\nconst markings = vcat([collect(1:kas)],[ [i,] for i in 1:k])\n\nmarkings_probs =  vcat([pkas,],fill((1-pkas),kas),fill(1.0,k-kas))\nmarkings_probs ./= sum(markings_probs)\n\nconst parent_rate  = therate/markings_probs[end]\n\nconst true_lags = vcat(0.0,rand(Uniform(-0.3,0.3),kas-1))\n\njit_for_assembly = MultivariateNormal(true_lags,5E-3*ones(kas))\n\n\njitters_d = vcat(T.JitterDistribution(jit_for_assembly), fill(T.NoJitter(),length(markings)-1))\n\ngtas_test = T.GTAS(parent_rate,markings,markings_probs,jitters_d)\n\nt_end = 10_000.0\nthetrains,train_parent,attrib = T.make_samples_with_parent(gtas_test,t_end)\n\ntherates =  @. length(thetrains)/t_end","category":"page"},{"location":"more_positive_corr/#Export-to-HDF5","page":"Simple correlated firing, but for more neurons","title":"Export to HDF5","text":"","category":"section"},{"location":"more_positive_corr/","page":"Simple correlated firing, but for more neurons","title":"Simple correlated firing, but for more neurons","text":"using HDF5\nconst savefile = \"/tmp/test_train_single_assembly.h5\"","category":"page"},{"location":"more_positive_corr/","page":"Simple correlated firing, but for more neurons","title":"Simple correlated firing, but for more neurons","text":"save true lags","category":"page"},{"location":"more_positive_corr/","page":"Simple correlated firing, but for more neurons","title":"Simple correlated firing, but for more neurons","text":"using HDF5\n\nh5open(savefile, \"w\") do file\n    write(file, \"true_lags\", true_lags)\n    write(file,\"t_end\",t_end)\n    for neu in 1:k\n        write(file, \"train_$(neu)\", thetrains[neu])\n    end\n    write(file,\"train_parent\",train_parent)\n    write(file,\"attrib\",attrib)\nend\n\n#","category":"page"},{"location":"more_positive_corr/","page":"Simple correlated firing, but for more neurons","title":"Simple correlated firing, but for more neurons","text":"","category":"page"},{"location":"more_positive_corr/","page":"Simple correlated firing, but for more neurons","title":"Simple correlated firing, but for more neurons","text":"This page was generated using Literate.jl.","category":"page"},{"location":"","page":"Home","title":"Home","text":"CurrentModule = ThinningAndShift","category":"page"},{"location":"#ThinningAndShift","page":"Home","title":"ThinningAndShift","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"(Image: )","category":"page"},{"location":"","page":"Home","title":"Home","text":"warning: Warning\nThe documentation is still missing. Please see the \"examples\" section for usage.","category":"page"},{"location":"#Examples","page":"Home","title":"Examples","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"First example\nSome data I needed to generate","category":"page"},{"location":"","page":"Home","title":"Home","text":"","category":"page"},{"location":"","page":"Home","title":"Home","text":"Modules = [ThinningAndShift]","category":"page"}]
}
